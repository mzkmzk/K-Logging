{"version":3,"file":"index.bundle.js","sources":["webpack:///webpack/bootstrap 4052686c5f520d75dd9f","webpack:///Src/index.js","webpack:///","webpack:///Src/K_Logging.js","webpack:///Src/Utils.js","webpack:///Src/DeepStream.js"],"sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 4052686c5f520d75dd9f\n **/","\nimport K_Logging from './K_Logging'\n\n\n    if ( typeof module != 'undefined' && module.exports ) {\n        module.exports = K_Logging\n    } else if ( typeof define == 'function' && define.amd ) {\n            define( function () { return K_Logging } )\n    } else {\n        window.K_Logging = K_Logging\n    }\n    window.K_Logging = K_Logging\n\n\n\n/** WEBPACK FOOTER **\n ** Src/index.js\n **/","undefined\n\n\n/** WEBPACK FOOTER **\n ** \n **/","//import defaultOptions from './DefaultOptions'\nimport Utils from './Utils'\nimport DeepStream from './DeepStream'\n\nlet defaultOptions = {\n    open_level : ['info','warn','error'],\n    method: ['console','display','website'],\n}\n\nexport default class K_Logging {\n    constructor(options = defaultOptions) {\n        this.data = {\n            'info': [],\n            'warn': [],\n            'error': [] \n        }\n        this.options = options\n        this.deepStream = new DeepStream()       \n    }\n\n    getInstance() {\n        //if (window.K_Logging)\n    }\n\n    log(msg = '',level = 0) {\n        msg = this.packagingMsg(msg, level)\n        \n        if(this.options.method.indexOf('console') !== -1) {\n            this.console(msg,level)\n        }\n        if(this.options.method.indexOf('display') !== -1) {\n            this.display(msg,level)\n        }\n        if(this.options.method.indexOf('website') !== -1) {\n            this.website(msg,level)\n        }\n    }\n\n    packagingMsg(msg = '', level = 0) {\n        let packagingMsg = {\n            'date': Utils.getDate(),\n            level,\n            msg\n        }\n        return JSON.stringify(packagingMsg)\n    }\n\n    console(msg = '', level = 0) {\n        if (level === 'info') {\n            console.log(msg)\n        }else if (level === 'warn') {\n            console.warn(msg)\n        }else if (level === 'error') {\n            console.error(msg)\n        }\n    }\n\n    display(msg = '', level = 0) {\n        \n    }\n\n    website(msg = '', level = 0) {\n        this.deepStream.sendMsg(msg)\n        //this.deepStream.record.set('firstname', msg)\n    }\n\n    info(msg = '') {\n        this.log(msg,'info')\n    }\n\n    warn(msg = '') {\n        this.log(msg,'warn')\n    }\n\n    error(msg = '') {\n        this.log(msg,'error')\n    }\n\n    \n\n\n}\n\n\n\n\n/** WEBPACK FOOTER **\n ** Src/K_Logging.js\n **/","export default class Utils {\n    static getScript(url, callback) {\n        let head = document.getElementsByTagName('head')[0],\n            js = document.createElement('script')\n        js.setAttribute('type', 'text/javascript')\n        js.setAttribute('src', url)\n        head.appendChild(js)\n        //执行回调\n        let callbackFn = function(){\n                if(typeof callback === 'function'){\n                    callback()\n                }\n            }\n        if (document.all) { //IE\n            js.onreadystatechange = function() {\n                if (js.readyState == 'loaded' || js.readyState == 'complete') {\n                    callbackFn()\n                }\n            }\n        } else {\n            js.onload = function() {\n                callbackFn()\n            }\n        }\n    }\n\n    static getDate() {\n        let date = new Date(),\n        Y = date.getFullYear() + '-',\n        M = Utils.addZero(date.getMonth()+1) + '-',\n        D = Utils.addZero(date.getDate()) + ' ',\n        h = Utils.addZero(date.getHours() ) + ':',\n        m = Utils.addZero(date.getMinutes()) + ':',\n        s = Utils.addZero(date.getSeconds())\n\n        return (Y+M+D+h+m+s)\n    }\n\n    static addZero(num) {\n        if(num < 10 ) {\n            return '0' + num\n        }\n        return num\n    }\n}\n\n\n/** WEBPACK FOOTER **\n ** Src/Utils.js\n **/","import Utils from './Utils'\n\nclass DeepStream {\n    constructor() {\n        /*if(window.deepstream === undefined) { \n            Utils.getScript(\n                'https://qiniu.404mzk.com/deepstream.min.js',\n                this.setRecord()\n            )\n        }else {\n            this.setRecord()\n        }*/\n            \n    }\n\n    setRecord() {\n        if (this.record === undefined) { //防止多次连接 会有多个websocket连接\n            let client = window.deepstream('120.24.37.206:6020').login()\n            this.record = client.record.getRecord('K-Logging')\n        }\n    }\n\n    sendMsg(msg) {\n        //消息频率较高时,会执行多次加载脚本\n        if(window.deepstream === undefined) { \n            let _self = this\n\n            Utils.getScript(\n                'http://qiniu.404mzk.com/deepstream.min.js',\n                function(){ \n                    _self.setRecord()\n                    _self.record.set('firstname', msg)\n                }\n            )\n        }else {\n            this.record.set('firstname', msg)\n        }\n    }\n\n    getInstance() {\n        if (this.record === undefined) {\n\n        }\n    }\n\n}\n\nvar getSingle = function(fn) {\n  var result //形成闭包,在return后的函数仍可访问result\n  return function(){\n    return result || (result = fn.apply(this.arguments))\n  }\n}\n\n\n\nexport default getSingle(DeepStream)\n\n\n/** WEBPACK FOOTER **\n ** Src/DeepStream.js\n **/"],"mappings":";AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;ACrCA;AACA;;;;;AAEA;ACCA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;;;;;;;;;;;;;ACVA;AACA;AACA;AADA;AACA;;;AAAA;AACA;;;;;;;AACA;AACA;ADCA;AAFA;AACA;AAIA;AACA;AAAA;AACA;ACDA;AACA;AAAA;ADCA;AACA;AACA;AAHA;AAKA;AACA;AACA;AACA;;;AACA;AACA;AACA;;;AAEA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAHA;AAKA;AACA;;;;;;;;;;;;;AAEA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA;AAAA;AAAA;AAEA;;;AAEA;AAAA;AAAA;AACA;AAAA;AACA;AACA;;;AAEA;AAAA;AACA;AAAA;AACA;;;AAEA;AAAA;AACA;AAAA;AACA;;;AAEA;AAAA;AACA;AAAA;AACA;;;;;;AAnEA;;;;;;;;;;;;;;;;AETA;;;;;;;AACA;AFCA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAOA;AACA;;;AAEA;AACA;AACA;AACA;AACA;AACA;;;;;;AA3CA;;;;;;;;;;;;;;AGAA;AACA;;;;;;;AACA;AACA;AACA;;;;;;;;;AADA;AAUA;AACA;;;AACA;AACA;AHAA;AACA;AACA;AACA;AACA;;;AAEA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAGA;AACA;AACA;AARA;AAUA;AACA;AACA;AACA;;;AAEA;AACA;AAGA;;;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;;;","sourceRoot":""}